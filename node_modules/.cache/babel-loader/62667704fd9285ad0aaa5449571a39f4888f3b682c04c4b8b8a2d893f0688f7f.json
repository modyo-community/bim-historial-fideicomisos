{"ast":null,"code":"import { useRef } from 'react';\nimport { lastWhere, iteratorNext } from '../helpers/iterator.js';\nimport { useWidthCalculator } from './useWidthCalculator/index.js';\nimport { useFoutDetector } from './useFoutDetector.js';\nexport function useWidestCompositionForWidth(narrowToWideCompositionsProvider, maxWidth) {\n  const widthCalculator = useWidthCalculator();\n  const containerElementRef = useRef(null);\n  const clearCache = widthCalculator.clearCache;\n  useFoutDetector(() => getItemsDomElements(containerElementRef.current), clearCache);\n  if ('renderNeeded' in widthCalculator) {\n    return {\n      items: widthCalculator.renderNeeded.items,\n      ref(containerElement) {\n        widthCalculator.renderNeeded.ref(containerElement);\n        containerElementRef.current = containerElement;\n      },\n      clearCache\n    };\n  } else {\n    return {\n      items: getLargestFittingCompositionWithFallback(narrowToWideCompositionsProvider, widthCalculator.calculator, maxWidth),\n      ref: containerElementRef,\n      clearCache\n    };\n  }\n}\nfunction getLargestFittingCompositionWithFallback(getNarrowToWideCompositions, getCompositionWidth, maxWidth) {\n  const narrowToWideCompositions = getNarrowToWideCompositions();\n  const firstComposition = iteratorNext(narrowToWideCompositions) ?? [];\n  const doesCompositionFit = composition => {\n    return getCompositionWidth(composition) < maxWidth;\n  };\n  return lastWhere(narrowToWideCompositions, doesCompositionFit) ?? firstComposition;\n}\nfunction getItemsDomElements(viewDomElement) {\n  return viewDomElement && Array.from(viewDomElement.children);\n}","map":{"version":3,"names":["useRef","lastWhere","iteratorNext","useWidthCalculator","useFoutDetector","useWidestCompositionForWidth","narrowToWideCompositionsProvider","maxWidth","widthCalculator","containerElementRef","clearCache","getItemsDomElements","current","items","renderNeeded","ref","containerElement","getLargestFittingCompositionWithFallback","calculator","getNarrowToWideCompositions","getCompositionWidth","narrowToWideCompositions","firstComposition","doesCompositionFit","composition","viewDomElement","Array","from","children"],"sources":["/Users/felipemeyer/sites/bim/bim-historial-fideicomisos/node_modules/react-responsive-pagination/dist/hooks/useWidestCompositionForWidth.js"],"sourcesContent":["import { useRef } from 'react';\nimport { lastWhere, iteratorNext } from '../helpers/iterator.js';\nimport { useWidthCalculator } from './useWidthCalculator/index.js';\nimport { useFoutDetector } from './useFoutDetector.js';\nexport function useWidestCompositionForWidth(narrowToWideCompositionsProvider, maxWidth) {\n    const widthCalculator = useWidthCalculator();\n    const containerElementRef = useRef(null);\n    const clearCache = widthCalculator.clearCache;\n    useFoutDetector(() => getItemsDomElements(containerElementRef.current), clearCache);\n    if ('renderNeeded' in widthCalculator) {\n        return {\n            items: widthCalculator.renderNeeded.items,\n            ref(containerElement) {\n                widthCalculator.renderNeeded.ref(containerElement);\n                containerElementRef.current = containerElement;\n            },\n            clearCache,\n        };\n    }\n    else {\n        return {\n            items: getLargestFittingCompositionWithFallback(narrowToWideCompositionsProvider, widthCalculator.calculator, maxWidth),\n            ref: containerElementRef,\n            clearCache,\n        };\n    }\n}\nfunction getLargestFittingCompositionWithFallback(getNarrowToWideCompositions, getCompositionWidth, maxWidth) {\n    const narrowToWideCompositions = getNarrowToWideCompositions();\n    const firstComposition = iteratorNext(narrowToWideCompositions) ?? [];\n    const doesCompositionFit = (composition) => {\n        return getCompositionWidth(composition) < maxWidth;\n    };\n    return lastWhere(narrowToWideCompositions, doesCompositionFit) ?? firstComposition;\n}\nfunction getItemsDomElements(viewDomElement) {\n    return viewDomElement && Array.from(viewDomElement.children);\n}\n"],"mappings":"AAAA,SAASA,MAAM,QAAQ,OAAO;AAC9B,SAASC,SAAS,EAAEC,YAAY,QAAQ,wBAAwB;AAChE,SAASC,kBAAkB,QAAQ,+BAA+B;AAClE,SAASC,eAAe,QAAQ,sBAAsB;AACtD,OAAO,SAASC,4BAA4BA,CAACC,gCAAgC,EAAEC,QAAQ,EAAE;EACrF,MAAMC,eAAe,GAAGL,kBAAkB,CAAC,CAAC;EAC5C,MAAMM,mBAAmB,GAAGT,MAAM,CAAC,IAAI,CAAC;EACxC,MAAMU,UAAU,GAAGF,eAAe,CAACE,UAAU;EAC7CN,eAAe,CAAC,MAAMO,mBAAmB,CAACF,mBAAmB,CAACG,OAAO,CAAC,EAAEF,UAAU,CAAC;EACnF,IAAI,cAAc,IAAIF,eAAe,EAAE;IACnC,OAAO;MACHK,KAAK,EAAEL,eAAe,CAACM,YAAY,CAACD,KAAK;MACzCE,GAAGA,CAACC,gBAAgB,EAAE;QAClBR,eAAe,CAACM,YAAY,CAACC,GAAG,CAACC,gBAAgB,CAAC;QAClDP,mBAAmB,CAACG,OAAO,GAAGI,gBAAgB;MAClD,CAAC;MACDN;IACJ,CAAC;EACL,CAAC,MACI;IACD,OAAO;MACHG,KAAK,EAAEI,wCAAwC,CAACX,gCAAgC,EAAEE,eAAe,CAACU,UAAU,EAAEX,QAAQ,CAAC;MACvHQ,GAAG,EAAEN,mBAAmB;MACxBC;IACJ,CAAC;EACL;AACJ;AACA,SAASO,wCAAwCA,CAACE,2BAA2B,EAAEC,mBAAmB,EAAEb,QAAQ,EAAE;EAC1G,MAAMc,wBAAwB,GAAGF,2BAA2B,CAAC,CAAC;EAC9D,MAAMG,gBAAgB,GAAGpB,YAAY,CAACmB,wBAAwB,CAAC,IAAI,EAAE;EACrE,MAAME,kBAAkB,GAAIC,WAAW,IAAK;IACxC,OAAOJ,mBAAmB,CAACI,WAAW,CAAC,GAAGjB,QAAQ;EACtD,CAAC;EACD,OAAON,SAAS,CAACoB,wBAAwB,EAAEE,kBAAkB,CAAC,IAAID,gBAAgB;AACtF;AACA,SAASX,mBAAmBA,CAACc,cAAc,EAAE;EACzC,OAAOA,cAAc,IAAIC,KAAK,CAACC,IAAI,CAACF,cAAc,CAACG,QAAQ,CAAC;AAChE"},"metadata":{},"sourceType":"module","externalDependencies":[]}